<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/home"></ion-back-button>
    </ion-buttons>
    <ion-title>Ghana PƒÅ·π≠ha</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="ghana-content">
  <!-- Hero Section -->
  <div class="hero-section">
    <div class="hero-icon">üîî</div>
    <h1 class="hero-title">Ghana PƒÅ·π≠ha</h1>
    <h2 class="hero-sanskrit">‡§ò‡§® ‡§™‡§æ‡§†</h2>
    <p class="hero-description">
      The Ultimate Dense Recitation Method - Master the most prestigious Vedic memorization technique that creates bell-like resonant patterns for absolute perfection
    </p>
    <div class="prestige-badge">
      <ion-icon name="star-outline"></ion-icon>
      <span>Ultimate Mastery Level</span>
    </div>
  </div>

  <!-- Prerequisites Section -->
  <div class="prerequisites-section">
    <div class="prereq-header">
      <ion-icon name="school-outline"></ion-icon>
      <h2>Prerequisites for Ghana PƒÅ·π≠ha</h2>
    </div>
    
    <div class="prereq-content">
      <div class="warning-card">
        <h3>
          <ion-icon name="warning-outline"></ion-icon>
          Advanced Technique Warning
        </h3>
        <p>
          Ghana PƒÅ·π≠ha is the pinnacle of Vedic memorization. It requires complete mastery of all previous methods. 
          This technique should only be attempted after achieving excellence in JatƒÅ PƒÅ·π≠ha.
        </p>
      </div>

      <div class="mastery-checklist">
        <h3>
          <ion-icon name="checkmark-circle-outline"></ion-icon>
          Required Mastery
        </h3>
        <div class="checklist-items">
          <div class="checklist-item" [class]="getMasteryStatus('padapada')">
            <ion-icon [name]="getMasteryIcon('padapada')"></ion-icon>
            <span>Pada PƒÅ·π≠ha (Word-by-word)</span>
            <div class="mastery-level">{{ getMasteryLevel('padapada') }}</div>
          </div>
          <div class="checklist-item" [class]="getMasteryStatus('kramapada')">
            <ion-icon [name]="getMasteryIcon('kramapada')"></ion-icon>
            <span>Krama PƒÅ·π≠ha (Sequential)</span>
            <div class="mastery-level">{{ getMasteryLevel('kramapada') }}</div>
          </div>
          <div class="checklist-item" [class]="getMasteryStatus('jatapada')">
            <ion-icon [name]="getMasteryIcon('jatapada')"></ion-icon>
            <span>JatƒÅ PƒÅ·π≠ha (Braided)</span>
            <div class="mastery-level">{{ getMasteryLevel('jatapada') }}</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Introduction Section -->
  <div class="introduction-section">
    <div class="intro-header">
      <ion-icon name="diamond-outline"></ion-icon>
      <h2>Understanding Ghana PƒÅ·π≠ha</h2>
    </div>
    
    <div class="intro-content">
      <div class="definition-card">
        <h3>
          <ion-icon name="library-outline"></ion-icon>
          Definition & Etymology
        </h3>
        <p>
          Ghana (‡§ò‡§®) means "dense," "solid," "bell," or "mace." This method creates the most dense and intricate patterns, 
          resembling the solid, resonant quality of a bell when struck.
        </p>
        <p>
          Like a bell that produces pure, clear tones, Ghana PƒÅ·π≠ha creates perfect, error-free recitation through 
          the most complex interwoven patterns in Vedic tradition.
        </p>
      </div>

      <div class="significance-card">
        <h3>
          <ion-icon name="trophy-outline"></ion-icon>
          Supreme Spiritual Significance
        </h3>
        <p>Ghana PƒÅ·π≠ha represents the highest achievement in Vedic learning:</p>
        <ul>
          <li>Complete mastery of sacred sound and vibration</li>
          <li>Perfect preservation of ancient wisdom traditions</li>
          <li>Ultimate mental discipline and concentration</li>
          <li>Spiritual elevation through sacred pattern mastery</li>
          <li>Recognition as a true Vedic scholar (Ghana PƒÅ·π≠hƒ´)</li>
          <li>Ability to transmit perfect knowledge to future generations</li>
        </ul>
      </div>
    </div>
  </div>

  <!-- Method Explanation Section -->
  <div class="method-section">
    <h2>The Dense Pattern Method</h2>
    
    <div class="method-example">
      <div class="example-header">
        <h3>Example: Bhagavad Gƒ´tƒÅ 2.47 (First Line)</h3>
        <div class="original-line">
          <div class="line-devanagari">‡§ï‡§∞‡•ç‡§Æ‡§£‡•ç‡§Ø‡•á‡§µ‡§æ‡§ß‡§ø‡§ï‡§æ‡§∞‡§∏‡•ç‡§§‡•á ‡§Æ‡§æ ‡§´‡§≤‡•á‡§∑‡•Å ‡§ï‡§¶‡§æ‡§ö‡§®</div>
          <div class="line-roman">karma·πáy-evƒÅdhikƒÅras-te mƒÅ phale·π£u kadƒÅcana</div>
          <div class="word-breakdown">
            <span class="word-tag">‡§ï‡§∞‡•ç‡§Æ‡§£‡§ø (1)</span>
            <span class="word-tag">‡§è‡§µ (2)</span>
            <span class="word-tag">‡§Ö‡§ß‡§ø‡§ï‡§æ‡§∞: (3)</span>
            <span class="word-tag">‡§§‡•á (4)</span>
            <span class="word-tag">‡§Æ‡§æ (5)</span>
            <span class="word-tag">‡§´‡§≤‡•á‡§∑‡•Å (6)</span>
            <span class="word-tag">‡§ï‡§¶‡§æ‡§ö‡§® (7)</span>
          </div>
        </div>
      </div>

      <div class="ghana-sequence">
        <div class="sequence-title">
          <ion-icon name="diamond-outline"></ion-icon>
          <h4>Ghana Pattern Formula</h4>
        </div>
        
        <div class="pattern-explanation">
          <div class="formula-card">
            <h4>The Ultimate Dense Formula</h4>
            <p><strong>For words 1, 2, 3:</strong></p>
            <p class="formula-text">1-2-1, 2-3-2, 1-2-3-2-1</p>
            <p>This creates the densest possible pattern, incorporating all previous methods in a single, ultimate sequence.</p>
          </div>
        </div>

        <div class="sequence-steps">
          <div class="sequence-step">
            <div class="step-number">1</div>
            <div class="step-content">
              <div class="step-pattern">First Dense Pattern (Words 1-2-3)</div>
              <div class="step-description">Building the bell-like resonance through dense repetition</div>
              <div class="step-recitation">
                <div class="recite-item ghana-pattern">‡§ï‡§∞‡•ç‡§Æ‡§£‡§ø ‡§è‡§µ ‡§ï‡§∞‡•ç‡§Æ‡§£‡§ø</div>
                <div class="recite-item ghana-pattern">‡§è‡§µ ‡§Ö‡§ß‡§ø‡§ï‡§æ‡§∞: ‡§è‡§µ</div>
                <div class="recite-item ghana-complete">‡§ï‡§∞‡•ç‡§Æ‡§£‡§ø ‡§è‡§µ ‡§Ö‡§ß‡§ø‡§ï‡§æ‡§∞: ‡§è‡§µ ‡§ï‡§∞‡•ç‡§Æ‡§£‡§ø</div>
              </div>
            </div>
          </div>

          <div class="sequence-step">
            <div class="step-number">2</div>
            <div class="step-content">
              <div class="step-pattern">Second Dense Pattern (Words 2-3-4)</div>
              <div class="step-description">Overlapping patterns create unbreakable memory bonds</div>
              <div class="step-recitation">
                <div class="recite-item ghana-pattern">‡§è‡§µ ‡§Ö‡§ß‡§ø‡§ï‡§æ‡§∞: ‡§è‡§µ</div>
                <div class="recite-item ghana-pattern">‡§Ö‡§ß‡§ø‡§ï‡§æ‡§∞: ‡§§‡•á ‡§Ö‡§ß‡§ø‡§ï‡§æ‡§∞:</div>
                <div class="recite-item ghana-complete">‡§è‡§µ ‡§Ö‡§ß‡§ø‡§ï‡§æ‡§∞: ‡§§‡•á ‡§Ö‡§ß‡§ø‡§ï‡§æ‡§∞: ‡§è‡§µ</div>
              </div>
            </div>
          </div>

          <div class="sequence-step">
            <div class="step-number">3</div>
            <div class="step-content">
              <div class="step-pattern">Third Dense Pattern (Words 3-4-5)</div>
              <div class="step-description">The pattern continues with mathematical precision</div>
              <div class="step-recitation">
                <div class="recite-item ghana-pattern">‡§Ö‡§ß‡§ø‡§ï‡§æ‡§∞: ‡§§‡•á ‡§Ö‡§ß‡§ø‡§ï‡§æ‡§∞:</div>
                <div class="recite-item ghana-pattern">‡§§‡•á ‡§Æ‡§æ ‡§§‡•á</div>
                <div class="recite-item ghana-complete">‡§Ö‡§ß‡§ø‡§ï‡§æ‡§∞: ‡§§‡•á ‡§Æ‡§æ ‡§§‡•á ‡§Ö‡§ß‡§ø‡§ï‡§æ‡§∞:</div>
              </div>
            </div>
          </div>
        </div>

        <div class="mastery-highlight">
          <h4>Why Ghana PƒÅ·π≠ha is Ultimate</h4>
          <div class="mastery-grid">
            <div class="mastery-item">
              <ion-icon name="infinite-outline" color="warning"></ion-icon>
              <span>Infinite reinforcement</span>
            </div>
            <div class="mastery-item">
              <ion-icon name="shield-checkmark-outline" color="warning"></ion-icon>
              <span>Error impossibility</span>
            </div>
            <div class="mastery-item">
              <ion-icon name="diamond-outline" color="warning"></ion-icon>
              <span>Perfect preservation</span>
            </div>
            <div class="mastery-item">
              <ion-icon name="star-outline" color="warning"></ion-icon>
              <span>Spiritual elevation</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Training Modes Section -->
  <div class="training-modes-section">
    <h2>Ghana Mastery Training</h2>
    
    <div class="modes-grid">
      <ion-card class="mode-card" (click)="selectMode('foundation')" [disabled]="!canAccessMode('foundation')">
        <div class="mode-icon">
          <ion-icon name="library-outline" color="warning"></ion-icon>
        </div>
        <h3>Foundation Building</h3>
        <p>Systematic introduction to dense patterns with careful progression and deep understanding</p>
        <div class="mode-features">
          <span>Pattern foundation</span>
          <span>Slow progression</span>
          <span>Deep understanding</span>
        </div>
        <div class="access-requirement" *ngIf="!canAccessMode('foundation')">
          Requires JatƒÅ Mastery
        </div>
      </ion-card>

      <ion-card class="mode-card" (click)="selectMode('intensive')" [disabled]="!canAccessMode('intensive')">
        <div class="mode-icon">
          <ion-icon name="flash-outline" color="warning"></ion-icon>
        </div>
        <h3>Intensive Training</h3>
        <p>Rigorous practice of complete Ghana sequences with traditional guru-guided methodology</p>
        <div class="mode-features">
          <span>Complete sequences</span>
          <span>Traditional method</span>
          <span>Intensive practice</span>
        </div>
        <div class="access-requirement" *ngIf="!canAccessMode('intensive')">
          Requires Foundation Completion
        </div>
      </ion-card>

      <ion-card class="mode-card" (click)="selectMode('perfection')" [disabled]="!canAccessMode('perfection')">
        <div class="mode-icon">
          <ion-icon name="diamond-outline" color="warning"></ion-icon>
        </div>
        <h3>Perfection Mode</h3>
        <p>Achieve flawless recitation with speed, accuracy, and the spiritual resonance of true mastery</p>
        <div class="mode-features">
          <span>Flawless execution</span>
          <span>Speed mastery</span>
          <span>Spiritual resonance</span>
        </div>
        <div class="access-requirement" *ngIf="!canAccessMode('perfection')">
          Requires Intensive Mastery
        </div>
      </ion-card>

      <ion-card class="mode-card" (click)="selectMode('certification')" [disabled]="!canAccessMode('certification')">
        <div class="mode-icon">
          <ion-icon name="trophy-outline" color="warning"></ion-icon>
        </div>
        <h3>Certification</h3>
        <p>Demonstrate complete Ghana PƒÅ·π≠ha mastery and earn recognition as a true Vedic scholar</p>
        <div class="mode-features">
          <span>Mastery demonstration</span>
          <span>Scholar recognition</span>
          <span>Certification award</span>
        </div>
        <div class="access-requirement" *ngIf="!canAccessMode('certification')">
          Requires Perfection Achievement
        </div>
      </ion-card>
    </div>
  </div>

  <!-- Sloka Selection Section -->
  <div class="sloka-selection-section" *ngIf="selectedMode">
    <h2>Choose Your Ghana Practice</h2>
    
    <div class="sloka-cards">
      <ion-card class="sloka-card" *ngFor="let sloka of availableSlokas" (click)="selectSloka(sloka)">
        <ion-card-header>
          <ion-card-title>{{ sloka.reference }}</ion-card-title>
          <ion-card-subtitle>{{ sloka.title }}</ion-card-subtitle>
        </ion-card-header>
        <ion-card-content>
          <div class="sloka-info">
            <div class="word-count">
              <ion-icon name="text-outline"></ion-icon>
              <span>{{ sloka.totalWords }} words</span>
            </div>
            <div class="complexity" [class]="sloka.complexity">
              <ion-icon name="diamond-outline"></ion-icon>
              <span>{{ sloka.complexity }}</span>
            </div>
          </div>
          <p>{{ sloka.meaning }}</p>
          <div class="ghana-preview">
            <div class="pattern-count">{{ sloka.ghanaPatterns }} Dense Patterns</div>
            <div class="estimated-time">~{{ sloka.estimatedTime }} training time</div>
          </div>
        </ion-card-content>
      </ion-card>
    </div>
  </div>

  <!-- Training Interface -->
  <div class="training-interface" *ngIf="selectedSloka && !isCompleted">
    <div class="training-header">
      <h3>{{ selectedMode | titlecase }} Training</h3>
      <div class="training-progress">
        <div class="progress-info">
          <span>Pattern {{ currentPatternIndex + 1 }} of {{ totalPatterns }}</span>
          <span class="progress-percentage">{{ getProgressPercentage() }}% Complete</span>
        </div>
        <div class="progress-bar">
          <div class="progress-fill" [style.width.%]="getProgressPercentage()"></div>
        </div>
      </div>
    </div>

    <!-- Current Pattern Section -->
    <div class="current-ghana-section">
      <div class="ghana-header">
        <h4>Current Dense Pattern</h4>
        <div class="pattern-complexity" [class]="currentPattern?.complexity">
          <ion-icon [name]="getComplexityIcon()"></ion-icon>
          <span>{{ currentPattern?.complexity | titlecase }} Pattern</span>
        </div>
      </div>

      <div class="ghana-display">
        <div class="ghana-content">
          <div class="pattern-instruction">{{ currentPattern?.instruction }}</div>
          
          <div class="current-recitation">
            <div class="recitation-text">{{ currentPattern?.currentStep?.text }}</div>
            <div class="recitation-roman">{{ currentPattern?.currentStep?.roman }}</div>
            <div class="pattern-type-indicator">{{ currentPattern?.currentStep?.type | titlecase }}</div>
          </div>

          <div class="word-focus">
            Dense Focus: <span class="focused-words">{{ currentPattern?.focusWords }}</span>
          </div>
        </div>

        <div class="ghana-controls">
          <div class="audio-controls">
            <ion-button fill="outline" (click)="playAudio()" [disabled]="isPlayingAudio">
              <ion-icon name="play-outline" slot="start"></ion-icon>
              {{ isPlayingAudio ? 'Playing...' : 'Play Pattern' }}
            </ion-button>
            <ion-button fill="outline" (click)="playSlowMotion()" [disabled]="isPlayingAudio">
              <ion-icon name="hourglass-outline" slot="start"></ion-icon>
              Slow Motion
            </ion-button>
            <ion-button fill="outline" (click)="playResonance()" [disabled]="isPlayingAudio">
              <ion-icon name="radio-outline" slot="start"></ion-icon>
              Bell Resonance
            </ion-button>
          </div>

          <div class="practice-controls">
            <ion-button fill="solid" color="warning" (click)="practicePattern()" [disabled]="isPracticing">
              <ion-icon name="mic-outline" slot="start"></ion-icon>
              {{ isPracticing ? 'Listening...' : 'Practice Dense Pattern' }}
            </ion-button>
          </div>
        </div>
      </div>
    </div>

    <!-- Pattern Sequence Overview -->
    <div class="sequence-overview">
      <h4>Ghana Sequence Mastery</h4>
      <div class="sequence-timeline">
        <div class="timeline-step" 
             *ngFor="let step of currentPattern?.steps; let i = index"
             [class]="getStepStatus(i)"
             (click)="goToStep(i)">
          <div class="step-number">{{ i + 1 }}</div>
          <div class="step-preview">
            <div class="step-type-indicator" [class]="step.type">
              {{ getGhanaTypeSymbol(step.type) }}
            </div>
            <div class="step-text">{{ step.text }}</div>
          </div>
          <div class="step-status">
            <ion-icon [name]="getStepIcon(i)" [color]="getStepColor(i)"></ion-icon>
          </div>
        </div>
      </div>
    </div>

    <!-- Practice Feedback -->
    <div class="practice-feedback" *ngIf="practiceResult" [class]="practiceResult.rating">
      <div class="feedback-content" [class]="practiceResult.rating">
        <div class="feedback-icon">
          <ion-icon [name]="getFeedbackIcon()"></ion-icon>
        </div>
        <div class="feedback-message">
          <h4>{{ practiceResult.title }}</h4>
          <p>{{ practiceResult.message }}</p>
        </div>
      </div>
      <div class="feedback-actions">
        <ion-button fill="outline" (click)="retryPattern()" *ngIf="practiceResult.rating !== 'perfect'">
          <ion-icon name="refresh-outline" slot="start"></ion-icon>
          Perfect the Pattern
        </ion-button>
        <ion-button fill="solid" color="warning" (click)="nextPattern()" *ngIf="practiceResult.rating === 'perfect'">
          <ion-icon name="checkmark-outline" slot="start"></ion-icon>
          Next Dense Pattern
        </ion-button>
      </div>
    </div>

    <!-- Navigation Controls -->
    <div class="navigation-controls">
      <ion-button fill="outline" (click)="previousPattern()" [disabled]="currentPatternIndex === 0">
        <ion-icon name="chevron-back-outline" slot="start"></ion-icon>
        Previous
      </ion-button>
      <ion-button fill="outline" (click)="resetTraining()">
        <ion-icon name="refresh-outline" slot="start"></ion-icon>
        Reset
      </ion-button>
      <ion-button fill="solid" color="warning" (click)="nextPattern()" [disabled]="!canProceed()">
        Next
        <ion-icon name="chevron-forward-outline" slot="end"></ion-icon>
      </ion-button>
    </div>
  </div>

  <!-- Completion Section -->
  <div class="completion-section" *ngIf="isCompleted">
    <ion-card class="completion-card">
      <div class="completion-animation">
        <ion-icon name="trophy-outline" color="warning"></ion-icon>
        <div class="celebration-text">üèÜ GHANA PƒÄ·π¨HA MASTERY ACHIEVED! üèÜ</div>
      </div>
      
      <h3>Ultimate Vedic Mastery Complete!</h3>
      <p>
        Extraordinary achievement! You have mastered Ghana PƒÅ·π≠ha - the pinnacle of Vedic memorization. 
        You are now recognized as a true Ghana PƒÅ·π≠hƒ´, capable of perfect preservation and transmission of sacred knowledge.
      </p>

      <div class="completion-stats">
        <div class="stat-item">
          <ion-icon name="diamond-outline"></ion-icon>
          <span>{{ totalPatterns }} Dense Patterns Mastered</span>
        </div>
        <div class="stat-item">
          <ion-icon name="time-outline"></ion-icon>
          <span>{{ getCompletionTime() }} Total Training</span>
        </div>
        <div class="stat-item">
          <ion-icon name="star-outline"></ion-icon>
          <span>{{ getAccuracyScore() }}% Perfection Rate</span>
        </div>
      </div>

      <div class="certification-section">
        <h4>Digital Certification</h4>
        <ion-button fill="solid" color="warning" (click)="generateCertificate()">
          <ion-icon name="download-outline" slot="start"></ion-icon>
          Download Ghana PƒÅ·π≠hƒ´ Certificate
        </ion-button>
      </div>

      <div class="completion-actions">
        <ion-button fill="outline" (click)="restartTraining()">
          <ion-icon name="refresh-outline" slot="start"></ion-icon>
          Perfect Further
        </ion-button>
        <ion-button fill="solid" color="success" routerLink="/uchcharana">
          <ion-icon name="arrow-forward-outline" slot="end"></ion-icon>
          Explore Pronunciation
        </ion-button>
        <ion-button fill="clear" routerLink="/home">
          <ion-icon name="home-outline" slot="start"></ion-icon>
          Return Home
        </ion-button>
      </div>
    </ion-card>
  </div>

  <!-- Master Tips Section -->
  <div class="tips-section">
    <h2>Secrets of Ghana Mastery</h2>
    
    <div class="tips-grid">
      <div class="tip-card">
        <ion-icon name="diamond-outline" color="warning"></ion-icon>
        <h4>Dense Visualization</h4>
        <p>Visualize each pattern as a solid, resonant bell. The density creates unbreakable memory structures.</p>
      </div>

      <div class="tip-card">
        <ion-icon name="infinite-outline" color="warning"></ion-icon>
        <h4>Pattern Perfection</h4>
        <p>Ghana demands absolute perfection. Even slight variations disrupt the dense pattern integrity.</p>
      </div>

      <div class="tip-card">
        <ion-icon name="radio-outline" color="warning"></ion-icon>
        <h4>Resonant Quality</h4>
        <p>Develop the bell-like quality in your recitation. The sound should have depth and resonance.</p>
      </div>

      <div class="tip-card">
        <ion-icon name="time-outline" color="warning"></ion-icon>
        <h4>Patience & Persistence</h4>
        <p>Ghana mastery takes years of dedicated practice. Approach with humility and determination.</p>
      </div>

      <div class="tip-card">
        <ion-icon name="heart-outline" color="warning"></ion-icon>
        <h4>Spiritual Elevation</h4>
        <p>This technique elevates consciousness. Maintain pure intention and devotional attitude.</p>
      </div>

      <div class="tip-card">
        <ion-icon name="people-outline" color="warning"></ion-icon>
        <h4>Guru Guidance</h4>
        <p>Traditional Ghana learning requires a qualified guru. Use this as supplementary practice only.</p>
      </div>
    </div>
  </div>
</ion-content>
