<app-technique-header
  title="Vākyapāṭha"
  sanskrit="वाक्यपाठ"
  emoji="🕉️"
  color="tertiary"
  [translucent]="true"
  [showMenuButton]="true">
</app-technique-header>


<ion-content [fullscreen]="true" class="vakyapada-content">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">Vākyapāṭha</ion-title>
    </ion-toolbar>
  </ion-header>

  <!-- Introduction Section -->
  <div class="introduction-section">
    <div class="intro-header">
      <ion-icon name="document-text-outline" color="secondary"></ion-icon>
      <h2>What is Vākyapāṭha (वाक्यपाठ)?</h2>
    </div>

    <div class="intro-content">
      <div class="definition-card">
        <h3>📖 Definition</h3>
        <p><strong>"Vākya"</strong> = sentence/phrase, <strong>"pāṭha"</strong> = recitation</p>
        <p>The entire sentence or line of the śloka is recited as a whole, combining words into meaningful phrases.</p>
      </div>

      <div class="purpose-card">
        <h3>🎯 Purpose & Benefits</h3>
        <ul>
          <li>Move from fragmented learning to flow-based recitation</li>
          <li>Train mind to connect words smoothly</li>
          <li>Understand śloka in syntactic and musical flow</li>
          <li>Build natural rhythm and pronunciation fluency</li>
          <li>Bridge between word-by-word and continuous chanting</li>
        </ul>
      </div>
    </div>
  </div>

  <!-- Comparison Section -->
  <div class="comparison-section">
    <h2>🔄 Padapāṭha vs Vākyapāṭha</h2>

    <div class="comparison-container">
      <div class="comparison-card padapatha-card">
        <div class="method-header">
          <ion-icon name="text-outline" color="primary"></ion-icon>
          <h3>Padapāṭha (Word-by-Word)</h3>
        </div>
        <div class="example-text">
          <div class="sanskrit-text fragmented">
            <span class="word-fragment">Kṛṣṇāya</span>
            <span class="separator">—</span>
            <span class="word-fragment">Vāsudevāya</span>
            <span class="separator">—</span>
            <span class="word-fragment">Devakī</span>
            <span class="separator">—</span>
            <span class="word-fragment">Nandanāya</span>
            <span class="separator">—</span>
            <span class="word-fragment">ca</span>
          </div>
          <p class="description">Each word pronounced separately with pauses</p>
        </div>
      </div>

      <div class="comparison-card vakyapatha-card">
        <div class="method-header">
          <ion-icon name="document-text-outline" color="secondary"></ion-icon>
          <h3>Vākyapāṭha (Flow-based)</h3>
        </div>
        <div class="example-text">
          <div class="sanskrit-text flowing">
            Kṛṣṇāya Vāsudevāya Devakī Nandanāya ca
          </div>
          <p class="description">Words flow together as natural phrases</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Learning Progression Section -->
  <div class="progression-section">
    <h2>📈 Learning Progression Flow</h2>

    <div class="progression-steps">
      <div class="step-card">
        <div class="step-number">1</div>
        <div class="step-content">
          <h3>Audio Demonstration</h3>
          <p>Listen to teacher/audio reciting full lines with proper flow and rhythm</p>
          <ion-icon name="volume-high-outline" color="tertiary"></ion-icon>
        </div>
      </div>

      <div class="flow-arrow">
        <ion-icon name="arrow-down-outline"></ion-icon>
      </div>

      <div class="step-card">
        <div class="step-number">2</div>
        <div class="step-content">
          <h3>Highlighted Flow</h3>
          <p>Watch words highlight together as complete phrases during recitation</p>
          <ion-icon name="color-wand-outline" color="warning"></ion-icon>
        </div>
      </div>

      <div class="flow-arrow">
        <ion-icon name="arrow-down-outline"></ion-icon>
      </div>

      <div class="step-card">
        <div class="step-number">3</div>
        <div class="step-content">
          <h3>Line Practice</h3>
          <p>Practice each line with audio support and voice recognition</p>
          <ion-icon name="mic-outline" color="danger"></ion-icon>
        </div>
      </div>

      <div class="flow-arrow">
        <ion-icon name="arrow-down-outline"></ion-icon>
      </div>

      <div class="step-card">
        <div class="step-number">4</div>
        <div class="step-content">
          <h3>Full Mastery</h3>
          <p>Recite complete śloka with natural flow and rhythm</p>
          <ion-icon name="trophy-outline" color="success"></ion-icon>
        </div>
      </div>
    </div>
  </div>

  <!-- Practice Section -->
  <div class="practice-section">
    <h2>🎓 Choose Your Śloka for Vākyapāṭha Practice</h2>

    <div class="sloka-selection">
      <div class="sloka-cards">
        @for (sloka of vakyaPadaSlokas; track sloka) {
          <ion-card class="sloka-card" (click)="startTraining(sloka.id)">
            <ion-card-header>
              <ion-card-title>{{sloka.title}}</ion-card-title>
              <ion-card-subtitle>{{sloka.subtitle}}</ion-card-subtitle>
            </ion-card-header>
            <ion-card-content>
              <div class="line-count">
                <ion-icon name="list-outline"></ion-icon>
                <span>{{sloka.lines.length}} Lines to Master</span>
              </div>
              <p>{{sloka.description}}</p>
            </ion-card-content>
          </ion-card>
        }
      </div>
    </div>
  </div>

  <!-- Gamification Section -->
  <div class="gamification-section">
    <h2>🏆 Your Achievements</h2>

    <div class="stats-grid">
      <div class="stat-card">
        <ion-icon name="flame-outline" color="danger"></ion-icon>
        <div class="stat-content">
          <h3>{{streakDays}}</h3>
          <p>Day Streak</p>
        </div>
      </div>

      <div class="stat-card">
        <ion-icon name="star-outline" color="warning"></ion-icon>
        <div class="stat-content">
          <h3>{{totalPoints}}</h3>
          <p>Points Earned</p>
        </div>
      </div>

      <div class="stat-card">
        <ion-icon name="checkmark-circle-outline" color="success"></ion-icon>
        <div class="stat-content">
          <h3>{{completedSlokas}}</h3>
          <p>Slokas Mastered</p>
        </div>
      </div>

      <div class="stat-card">
        <ion-icon name="time-outline" color="tertiary"></ion-icon>
        <div class="stat-content">
          <h3>{{practiceMinutes}}</h3>
          <p>Minutes Practiced</p>
        </div>
      </div>
    </div>

    <div class="badges-section">
      <h3>🥇 Earned Badges</h3>
      <div class="badges-grid">
        @for (badge of earnedBadges; track badge) {
          <div class="badge-item">
            <ion-icon [name]="badge.icon" [color]="badge.color"></ion-icon>
            <span>{{badge.name}}</span>
          </div>
        }
        @for (badge of lockedBadges; track badge) {
          <div class="badge-item locked">
            <ion-icon name="lock-closed-outline" color="medium"></ion-icon>
            <span>{{badge.name}}</span>
          </div>
        }
      </div>
    </div>
  </div>

  <!-- Tips Section -->
  <div class="tips-section">
    <h2>💡 Vākyapāṭha Mastery Tips</h2>
    <div class="tips-grid">
      <div class="tip-card">
        <ion-icon name="musical-notes-outline" color="primary"></ion-icon>
        <h4>Find the Rhythm</h4>
        <p>Feel the natural musical flow of Sanskrit verses</p>
      </div>
      <div class="tip-card">
        <ion-icon name="heart-outline" color="danger"></ion-icon>
        <h4>Connect with Meaning</h4>
        <p>Understand the phrase meaning for natural flow</p>
      </div>
      <div class="tip-card">
        <ion-icon name="refresh-outline" color="tertiary"></ion-icon>
        <h4>Practice Transitions</h4>
        <p>Focus on smooth word-to-word connections</p>
      </div>
      <div class="tip-card">
        <ion-icon name="volume-medium-outline" color="secondary"></ion-icon>
        <h4>Listen & Imitate</h4>
        <p>Copy the teacher's pace and intonation patterns</p>
      </div>
    </div>
  </div>

</ion-content>
