<app-technique-header
  title="Anuloma PƒÅ·π≠ha"
  sanskrit="‡§Ö‡§®‡•Å‡§≤‡•ã‡§Æ‡§™‡§æ‡§†"
  emoji="üïâÔ∏è"
  color="tertiary"
  [translucent]="true"
  [showMenuButton]="true">
</app-technique-header>

<ion-content [fullscreen]="true" class="anuloma-content">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">Anuloma PƒÅ·π≠ha</ion-title>
    </ion-toolbar>
  </ion-header>

  <!-- Hero Section -->
  <div class="hero-section">
    <div class="hero-icon">‚û°Ô∏è</div>
    <h1 class="hero-title">Anuloma PƒÅ·π≠ha</h1>
    <h2 class="hero-sanskrit">‡§Ö‡§®‡•Å‡§≤‡•ã‡§Æ ‡§™‡§æ‡§†</h2>
    <p class="hero-description">
      Forward Sequential Recitation Method - Build memory gradually by mastering verses line by line in natural forward order, creating rhythm and flow
    </p>
    <div class="prestige-badge">
      <ion-icon name="arrow-forward-outline"></ion-icon>
      <span>Progressive Foundation</span>
    </div>
  </div>

  <!-- Introduction Section -->
  <div class="introduction-section">
    <div class="intro-header">
      <ion-icon name="book-outline"></ion-icon>
      <h2>Understanding Anuloma PƒÅ·π≠ha</h2>
    </div>

    <div class="intro-content">
      <div class="definition-card">
        <h3>
          <ion-icon name="library-outline"></ion-icon>
          Definition & Etymology
        </h3>
        <p><strong>"Anuloma"</strong> = in forward order, <strong>"pƒÅ·π≠ha"</strong> = recitation</p>
        <p>The ≈õloka is recited line by line (pƒÅda by pƒÅda) in forward sequential order, building memory step-by-step through systematic progression.</p>
      </div>

      <div class="purpose-card">
        <h3>
          <ion-icon name="trophy-outline"></ion-icon>
          Purpose & Benefits
        </h3>
        <ul>
          <li>Builds memory gradually without overwhelming the learner</li>
          <li>Strengthens continuity, rhythm, and flow in recitation</li>
          <li>Creates systematic progression from simple to complex</li>
          <li>Develops confidence through step-by-step mastery</li>
          <li>Perfect bridge between line practice and full ≈õloka recitation</li>
        </ul>
      </div>
    </div>
  </div>

  <!-- Method Explanation Section -->
  <div class="method-section">
    <h2>üîÑ How Anuloma PƒÅ·π≠ha Works</h2>

    <div class="method-example">
      <div class="sloka-header">
        <h3>Example: Bhagavad Gƒ´tƒÅ 2.47</h3>
        <div class="full-sloka">
          <div class="sloka-devanagari">
            ‡§ï‡§∞‡•ç‡§Æ‡§£‡•ç‡§Ø‡•á‡§µ‡§æ‡§ß‡§ø‡§ï‡§æ‡§∞‡§∏‡•ç‡§§‡•á ‡§Æ‡§æ ‡§´‡§≤‡•á‡§∑‡•Å ‡§ï‡§¶‡§æ‡§ö‡§®‡•§<br>
            ‡§Æ‡§æ ‡§ï‡§∞‡•ç‡§Æ‡§´‡§≤‡§π‡•á‡§§‡•Å‡§∞‡•ç‡§≠‡•Ç‡§∞‡•ç‡§Æ‡§æ ‡§§‡•á ‡§∏‡§ô‡•ç‡§ó‡•ã‡§Ω‡§∏‡•ç‡§§‡•ç‡§µ‡§ï‡§∞‡•ç‡§Æ‡§£‡§ø‡••
          </div>
          <div class="sloka-meaning">
            "You have a right to perform your prescribed duty, but not to the fruits of action. Never consider yourself the cause of the results, and never be attached to not doing your duty."
          </div>
        </div>
      </div>

      <div class="progressive-steps mobile-friendly">
        <div class="step-container">
          <div class="step-number">1</div>
          <div class="step-content">
            <h4>First: Master Line 1</h4>
            <div class="line-example">
              <div class="line-text">‡§ï‡§∞‡•ç‡§Æ‡§£‡•ç‡§Ø‡•á‡§µ‡§æ‡§ß‡§ø‡§ï‡§æ‡§∞‡§∏‡•ç‡§§‡•á ‡§Æ‡§æ ‡§´‡§≤‡•á‡§∑‡•Å ‡§ï‡§¶‡§æ‡§ö‡§®‡•§</div>
              <div class="line-roman">karma·πáy evƒÅdhikƒÅras te mƒÅ phale·π£u kadƒÅcana</div>
            </div>
            <p>Practice this line until perfectly memorized with proper pronunciation</p>
          </div>
        </div>

        <div class="step-arrow">
          <ion-icon name="arrow-down-outline"></ion-icon>
        </div>

        <div class="step-container">
          <div class="step-number">2</div>
          <div class="step-content">
            <h4>Then: Add Line 2 & Combine</h4>
            <div class="line-example combined">
              <div class="line-text">
                ‡§ï‡§∞‡•ç‡§Æ‡§£‡•ç‡§Ø‡•á‡§µ‡§æ‡§ß‡§ø‡§ï‡§æ‡§∞‡§∏‡•ç‡§§‡•á ‡§Æ‡§æ ‡§´‡§≤‡•á‡§∑‡•Å ‡§ï‡§¶‡§æ‡§ö‡§®‡•§<br>
                <span class="new-line">‡§Æ‡§æ ‡§ï‡§∞‡•ç‡§Æ‡§´‡§≤‡§π‡•á‡§§‡•Å‡§∞‡•ç‡§≠‡•Ç‡§∞‡•ç‡§Æ‡§æ ‡§§‡•á ‡§∏‡§ô‡•ç‡§ó‡•ã‡§Ω‡§∏‡•ç‡§§‡•ç‡§µ‡§ï‡§∞‡•ç‡§Æ‡§£‡§ø‡••</span>
              </div>
            </div>
            <p>Now recite both lines together in flowing sequence</p>
          </div>
        </div>

        <div class="step-arrow">
          <ion-icon name="arrow-down-outline"></ion-icon>
        </div>

        <div class="step-container">
          <div class="step-number">3</div>
          <div class="step-content">
            <h4>Finally: Complete ≈öloka Mastery</h4>
            <div class="mastery-badge">
              <ion-icon name="trophy-outline" color="warning"></ion-icon>
              <span>Full ≈öloka with Perfect Rhythm & Flow</span>
            </div>
            <p>Achieve seamless recitation of the entire verse</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Learning Stages Section -->
  <div class="stages-section">
    <h2>üìö Learning Stages in Anuloma PƒÅ·π≠ha</h2>

    <div class="stages-grid">
      <div class="stage-card">
        <div class="stage-icon">
          <ion-icon name="play-circle-outline" color="primary"></ion-icon>
        </div>
        <h3>Stage 1: Listen</h3>
        <p>Hear each line with clear pronunciation and proper meter</p>
        <div class="stage-features">
          <span>üîä Audio playback</span>
          <span>‚è© Speed control</span>
        </div>
      </div>

      <div class="stage-card">
        <div class="stage-icon">
          <ion-icon name="mic-outline" color="danger"></ion-icon>
        </div>
        <h3>Stage 2: Practice</h3>
        <p>Repeat the line after listening, record your attempts</p>
        <div class="stage-features">
          <span>üé§ Voice recording</span>
          <span>üìä Accuracy feedback</span>
        </div>
      </div>

      <div class="stage-card">
        <div class="stage-icon">
          <ion-icon name="checkmark-circle-outline" color="success"></ion-icon>
        </div>
        <h3>Stage 3: Master</h3>
        <p>Achieve fluent recitation to unlock the next line</p>
        <div class="stage-features">
          <span>‚úÖ Line mastery</span>
          <span>üèÜ Progress badges</span>
        </div>
      </div>

      <div class="stage-card">
        <div class="stage-icon">
          <ion-icon name="layers-outline" color="warning"></ion-icon>
        </div>
        <h3>Stage 4: Combine</h3>
        <p>Recite mastered lines together in flowing sequence</p>
        <div class="stage-features">
          <span>üîó Line combination</span>
          <span>üéµ Rhythm building</span>
        </div>
      </div>
    </div>
  </div>

  <!-- Practice Section -->
  <div class="practice-section">
    <h2>üéØ Choose Your ≈öloka for Anuloma Practice</h2>

    <div class="sloka-selection">
      <div class="sloka-cards">
        @for (sloka of slokas; track $index) {
          <ion-card class="sloka-card" (click)="selectSloka(sloka.id)">
            <ion-card-header>
              <ion-card-title>{{sloka.title}}</ion-card-title>
              <ion-card-subtitle>{{sloka.subtitle}}</ion-card-subtitle>
            </ion-card-header>
            <ion-card-content>
              <div class="sloka-info">
                <div class="lines-count">
                  <ion-icon name="list-outline"></ion-icon>
                  <span>{{sloka.lines.length}} Lines to Master</span>
                </div>
                <div class="difficulty-level">
                  @for (star of getDifficultyStars(sloka.difficulty); track star) {
                    <ion-icon name="star-outline" color="warning"></ion-icon>
                  }
                  <span>{{sloka.difficulty}}</span>
                </div>
              </div>
              <p>{{sloka.description.length > 40 ? sloka.description.substring(0, 40) + '...' : sloka.description}}</p>
            </ion-card-content>
          </ion-card>
        }
      </div>
    </div>
  </div>

  <!-- Tips Section -->
  <div class="tips-section">
    <h2>üí° Anuloma PƒÅ·π≠ha Mastery Tips</h2>
    <div class="tips-grid">
      <div class="tip-card">
        <ion-icon name="time-outline" color="primary"></ion-icon>
        <h4>Take Your Time</h4>
        <p>Don't rush to the next line. Master each line completely before proceeding</p>
      </div>
      <div class="tip-card">
        <ion-icon name="repeat-outline" color="secondary"></ion-icon>
        <h4>Repetition is Key</h4>
        <p>Practice each line multiple times until it flows naturally</p>
      </div>
      <div class="tip-card">
        <ion-icon name="musical-notes-outline" color="tertiary"></ion-icon>
        <h4>Feel the Rhythm</h4>
        <p>Pay attention to the natural meter and rhythm of Sanskrit verses</p>
      </div>
      <div class="tip-card">
        <ion-icon name="layers-outline" color="warning"></ion-icon>
        <h4>Build Gradually</h4>
        <p>Once lines are mastered, practice them in combinations for flow</p>
      </div>
    </div>
  </div>

</ion-content>
